<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>ГДЗ по курсу Python от Контур | Ответы и решения ULearn</title>
  
  <meta name="description" content="Готовые домашние задания (ГДЗ) для курса «Язык Python» от Контур на платформе ULearn. Все ответы, решения и код для задач и модулей. Легкий поиск и удобная навигация.">
  <meta name="keywords" content="ГДЗ, ULearn, Python, Контур, ответы, решения, программирование, курс, ulearn.me, Язык Python, готовые домашние задания, пайтон, питон">
  <meta name="author" content="Your Name or Project">
  <meta name="robots" content="index, follow">
  
  <meta property="og:title" content="ГДЗ по курсу Python от Контур | Ответы и решения ULearn">
  <meta property="og:description" content="Все готовые решения для курса «Язык Python» от Контур. Удобный поиск по модулям и задачам.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://your-website-url.com">
  <meta property="og:image" content="https://your-website-url.com/preview-image.png">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">

  <style>
    :root {
      --bg-light: #f8f9fa; --text-light: #212529; --border-light: #dee2e6; --muted-light: #6c757d; --ad-bg-light: #f1f3f5;
      --bg-dark: #121212; --text-dark: #e0e0e0; --border-dark: #333; --muted-dark: #888; --ad-bg-dark: #1e1e1e;
      
      --maxw: 900px; --accent: #0b66c3;
      --ad-width-desktop: 230px;
      --ad-height-mobile: 80px;
    }
    html, body { height: 100%; margin: 0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; transition: background-color 0.3s, color 0.3s; }
    body { background-color: var(--bg-light); color: var(--text-light); }
    body.dark { background-color: var(--bg-dark); color: var(--text-dark); }
    
    /* --- Рекламные блоки --- */
    .ad-container-desktop {
        position: fixed;
        top: 0;
        bottom: 0;
        width: var(--ad-width-desktop);
        background-color: var(--ad-bg-light);
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        z-index: 10;
    }
    .ad-container-desktop.left { left: 0; border-right: 1px solid var(--border-light); }
    .ad-container-desktop.right { right: 0; border-left: 1px solid var(--border-light); }
    body.dark .ad-container-desktop { background-color: var(--ad-bg-dark); border-color: var(--border-dark); }
    
    .ad-container-desktop img {
        max-width: 100%;
        height: auto;
        display: block;
    }

    .ad-container-mobile {
        display: none; /* Скрыты по умолчанию, управляются медиа-запросом */
        position: fixed;
        left: 0;
        right: 0;
        height: auto;
        background-color: var(--ad-bg-light);
        border-bottom: 1px solid var(--border-light);
        z-index: 10;
        justify-content: center;
        align-items: center;
        overflow: hidden; /* ИЗМЕНЕНИЕ 1: Скрываем всё, что выходит за рамки блока */
    }
    
    /* ИЗМЕНЕНИЕ 2: Новые стили для картинки в мобильной рекламе */
    .ad-container-mobile img {
        height: 100%; /* Растягиваем по высоте контейнера */
        width: auto;   /* Ширина подбирается автоматически, сохраняя пропорции */
        max-width: none; /* Разрешаем изображению быть шире контейнера */
    }

    .ad-container-mobile#ad-top { top: 0; border-bottom: 1px solid var(--border-light); border-top: 0; }
    .ad-container-mobile#ad-bottom { bottom: 0; border-top: 1px solid var(--border-light); border-bottom: 0; }
    body.dark .ad-container-mobile { background-color: var(--ad-bg-dark); border-color: var(--border-dark); }

    /* Отступы для основного контента, чтобы реклама не перекрывала */
    .center {
        margin-left: var(--ad-width-desktop);
        margin-right: var(--ad-width-desktop);
        flex-grow: 1;
    }
    
    .wrap { max-width: var(--maxw); width: 100%; padding: 28px; margin: 0 auto; box-sizing: border-box; }
    
    /* Header */
    header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 1px solid var(--border-light); }
    body.dark header { border-color: var(--border-dark); }
    header .logo h1 { margin: 0; font-size: 24px; color: var(--accent); }
    header .logo .meta { font-size: 13px; color: var(--muted-light); }
    body.dark header .logo .meta { color: var(--muted-dark); }
    
    .controls { display: flex; gap: 12px; align-items: center; }
    .search { padding: 8px 12px; border: 1px solid #ddd; border-radius: 8px; min-width: 260px; background: #fff; color: var(--text-light); }
    body.dark .search { background: #333; color: var(--text-dark); border-color: #555; }
    
    .dropdown { position: relative; display: inline-block; }
    .dropbtn { background: none; border: none; font-size: 16px; cursor: pointer; color: var(--text-light); }
    body.dark .dropbtn { color: var(--text-dark); }
    .dropdown-content { display: none; position: absolute; background-color: #fff; right: 0; min-width: 160px; box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2); z-index: 1; border-radius: 8px; }
    body.dark .dropdown-content { background-color: #2c2c2c; }
    .dropdown-content a { color: black; padding: 12px 16px; text-decoration: none; display: block; }
    body.dark .dropdown-content a { color: var(--text-dark); }
    .dropdown-content a:hover { background-color: #f1f1f1; }
    body.dark .dropdown-content a:hover { background-color: #444; }
    .dropdown:hover .dropdown-content { display: block; }

    .theme-switcher { cursor: pointer; font-size: 24px; line-height: 1; }

    /* Main Content */
    main { padding: 12px; background-color: #fff; border-radius: 10px; box-shadow: 0 1px 3px rgba(0,0,0,0.05); }
    body.dark main { background-color: #1e1e1e; box-shadow: none; }
    details { border-bottom: 1px solid var(--border-light); padding: 15px 0; }
    body.dark details { border-color: var(--border-dark); }
    details:last-of-type { border-bottom: none; }
    summary { font-weight: 600; font-size: 18px; cursor: pointer; outline: none; padding: 5px; border-radius: 5px; transition: background-color 0.2s; }
    summary:hover { background-color: rgba(0,0,0,0.05); }
    body.dark summary:hover { background-color: rgba(255,255,255,0.1); }
    
    .task { padding: 12px 6px; display: flex; gap: 16px; align-items: flex-start; }
    .task a { color: var(--accent); text-decoration: none; font-weight: 600; }
    .task a:hover { text-decoration: underline; }
    
    /* Code Block */
    .code-container { flex: 0 0 50%; max-width: calc(100% - 170px); width: auto; }
    .code-header { display: flex; justify-content: space-between; align-items: center; background-color: #333; color: #fff; padding: 6px 10px; border-top-left-radius: 6px; border-top-right-radius: 6px; font-size: 13px; }
    .code-header .lang { font-family: monospace; }
    .copy-btn { background: rgba(255,255,255,0.1); color: #fff; border: 1px solid rgba(255,255,255,0.2); padding: 4px 8px; border-radius: 6px; cursor: pointer; font-size: 12px; }
    .code { margin: 0; border-bottom-left-radius: 6px; border-bottom-right-radius: 6px; overflow-x: auto; overflow-x: auto; }
    .code pre { margin: 0; }

    .task-meta { color: var(--muted-light); font-size: 13px; }
    body.dark .task-meta { color: var(--muted-dark); }
    
    .empty { padding: 40px; text-align: center; color: var(--muted-light); }
    body.dark .empty { color: var(--muted-dark); }
    
    /* Info Banner */
    .info-banner { background-color: #e7f3fe; color: #0c5460; padding: 12px; border-radius: 8px; margin-bottom: 15px; font-size: 14px; text-align: center; }
    body.dark .info-banner { background-color: #1c3e52; color: #bee5eb; }
    
    /* Footer */
    footer { margin-top: 24px; padding-top: 10px; border-top: 1px solid var(--border-light); color: var(--muted-light); font-size: 13px; text-align: center; }
    body.dark footer { border-color: var(--border-dark); color: var(--muted-dark); }
    .social-links { margin-top: 10px; }
    .social-links a { margin: 0 10px; text-decoration: none; color: var(--muted-light); font-size: 20px; }
    body.dark .social-links a { color: var(--muted-dark); }

    /* --- Адаптация --- */
    @media (max-width: 1250px){ /* Ширина контента + 2 рекламы + отступы */
      .ad-container-desktop { display: none; } 
      .center { margin: 0; }
      
      .ad-container-mobile { display: flex; }
      .wrap { 
          padding-top: calc(var(--ad-height-mobile) + 14px);
          padding-bottom: calc(var(--ad-height-mobile) + 14px); /* Чтобы нижняя реклама не перекрывала футер */
      }
    }
    
    /* ИЗМЕНЕНИЕ 3: Новое правило для узких экранов */
    @media (max-width: 970px){
      .ad-container-mobile img {
          width: 100%;  /* Начинаем подгонять по ширине */
          height: auto; /* Высота становится автоматической */
      }
    }

    @media (max-width: 768px){
      .wrap { padding-left: 14px; padding-right: 14px; }
      header { flex-direction: column; gap: 15px; }
      .controls { width: 100%; }
      .search { width: 100%; min-width: 0; box-sizing: border-box; } /* Адаптивный поиск */
      .task { flex-direction: column; }
      .code-container { width: 100%; flex-basis: auto; max-width: 100%; }
    }
  </style>
</head>
<body>
  
  <div class="ad-container-desktop left" id="ad-left"></div>
  
  <div class="center">
    <div class="wrap">
      
      <header>
        <div class="logo">
          <h1>ГДЗ ULearn Python</h1>
          <div class="meta">Курс: <a href="https://ulearn.me/course/python" target="_blank">Язык Python (Контур)</a></div>
        </div>
        <div class="controls">
          <input id="search" class="search" placeholder="Поиск по задачам и коду...">
          <div class="dropdown">
            <button class="dropbtn">Курсы ▾</button>
            <div class="dropdown-content">
              <a href="#">Скоро...</a>
            </div>
          </div>
          <div id="theme-switcher" class="theme-switcher" title="Сменить тему">🌙</div>
        </div>
      </header>

      <main id="main">
        <div class="info-banner">
          💡 Модули отсортированы в алфавитном порядке. Используйте поиск, чтобы быстро найти нужное задание.
        </div>
        <div id="status" class="empty">Загрузка данных...</div>
        <div id="content" style="display:none"></div>
      </main>

      <footer id="footer">
        <div>Последнее обновление: <span id="last-updated"></span></div>
        <div class="social-links">
          <a href="#" target="_blank" title="Telegram">💬</a>
          <a href="#" target="_blank" title="VK">👥</a>
          <a href="#" target="_blank" title="GitHub">💻</a>
        </div>
      </footer>
      
    </div>
  </div>
  
  <div class="ad-container-desktop right" id="ad-right"></div>

  <div class="ad-container-mobile" id="ad-top"></div>
  <div class="ad-container-mobile" id="ad-bottom"></div>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const STATUS = document.getElementById('status');
      const CONTENT = document.getElementById('content');
      const SEARCH = document.getElementById('search');
      const THEME_SWITCHER = document.getElementById('theme-switcher');
      
      let currentItems = [];

      function showStatus(msg) {
        STATUS.innerHTML = msg;
        STATUS.style.display = 'block';
        CONTENT.style.display = 'none';
      }

      function hideStatus() {
        STATUS.style.display = 'none';
        CONTENT.style.display = 'block';
      }

      async function loadDataFromLocalFile() {
        try {
          const response = await fetch('ulearn-answers.json');
          if (!response.ok) {
            throw new Error(`Не удалось загрузить файл: ${response.statusText}`);
          }
          const data = await response.json();
          return data;
        } catch (err) {
          console.error('Ошибка при загрузке данных:', err);
          showStatus(`Ошибка: Не удалось найти или прочитать файл <strong>ulearn-answers.json</strong>.<br><small>Убедитесь, что он находится в той же папке, что и HTML-файл.</small>`);
          return null;
        }
      }
      
      function normalizeData(raw) {
        if (!raw) return [];
        let arr = Array.isArray(raw) ? raw : Object.values(raw);
        return arr.filter(Boolean);
      }

      function groupByModule(items) {
        const map = new Map();
        items.forEach(it => {
          const mod = (it.module || 'Без модуля').trim();
          if (!map.has(mod)) map.set(mod, []);
          map.get(mod).push(it);
        });
        return new Map([...map.entries()].sort());
      }

      function render(items) {
        CONTENT.innerHTML = '';
        if (items.length === 0) {
          showStatus('Ничего не найдено. Попробуйте изменить поисковый запрос.');
          return;
        }
        hideStatus();
        
        const byModule = groupByModule(items);
        
        byModule.forEach((tasks, moduleName) => {
          const details = document.createElement('details');
          details.open = true;
          
          const summary = document.createElement('summary');
          summary.innerText = `${moduleName} (${tasks.length} заданий)`;
          details.appendChild(summary);
          
          tasks.forEach(t => {
            const wrapper = document.createElement('div');
            wrapper.className = 'task';

            const left = document.createElement('div');
            left.style.flex = '1';
            
            const title = document.createElement('a');
            title.href = t.url || '#';
            title.target = '_blank';
            title.innerText = t.task || 'Без названия';
            left.appendChild(title);
            
            if (t.courseName) {
                const meta = document.createElement('div');
                meta.className = 'task-meta';
                meta.innerText = `Курс: ${t.courseName}`;
                left.appendChild(meta);
            }
            
            wrapper.appendChild(left);
            
            const codeContainer = document.createElement('div');
            codeContainer.className = 'code-container';

            const codeHeader = document.createElement('div');
            codeHeader.className = 'code-header';
            
            const lang = document.createElement('span');
            lang.className = 'lang';
            lang.innerText = 'Python';
            codeHeader.appendChild(lang);
            
            const copyBtn = document.createElement('button');
            copyBtn.className = 'copy-btn';
            copyBtn.innerText = 'Копировать';
            copyBtn.addEventListener('click', async () => {
              try {
                await navigator.clipboard.writeText((t.code || '').trim());
                copyBtn.innerText = 'Скопировано!';
                setTimeout(() => copyBtn.innerText = 'Копировать', 1500);
              } catch (e) {
                alert('Не удалось скопировать: ' + e);
              }
            });
            codeHeader.appendChild(copyBtn);
            codeContainer.appendChild(codeHeader);

            const codeBlock = document.createElement('pre');
            codeBlock.className = 'code';
            const codeElem = document.createElement('code');
            codeElem.className = 'language-python';
            codeElem.textContent = (t.code || '').trim();
            codeBlock.appendChild(codeElem);
            codeContainer.appendChild(codeBlock);
            
            wrapper.appendChild(codeContainer);
            details.appendChild(wrapper);
          });
          
          CONTENT.appendChild(details);
        });

        hljs.highlightAll();
      }

      function applySearch() {
        const q = (SEARCH.value || '').trim().toLowerCase();
        if (!q) {
          render(currentItems);
          return;
        }
        const filtered = currentItems.filter(it => 
          (it.module || '').toLowerCase().includes(q) ||
          (it.task || '').toLowerCase().includes(q) ||
          (it.code || '').toLowerCase().includes(q)
        );
        render(filtered);
      }
      
      // --- НОВЫЙ КОД ДЛЯ РЕКЛАМЫ ---
      function loadAds() {
          const adSlots = [
              { id: 'ad1', desktop: 'ad-left', mobile: 'ad-top', link: 'https://viberouter.dev' }, 
              { id: 'ad2', desktop: 'ad-right', mobile: 'ad-bottom', link: 'https://t.me/swpebot?startapp' }
          ];

          // Проверяем, мобильная ли версия (совпадает с медиа-запросом в CSS)
          const isMobile = window.matchMedia("(max-width: 1250px)").matches;
          const imageFileName = isMobile ? 'mobile.png' : 'desktop.png';

          adSlots.forEach(slot => {
              const containerId = isMobile ? slot.mobile : slot.desktop;
              const container = document.getElementById(containerId);
              
              if (container) {
                  const adLink = document.createElement('a');
                  adLink.href = slot.link;
                  adLink.target = '_blank';
                  adLink.rel = 'noopener noreferrer';

                  const adImage = document.createElement('img');
                  adImage.src = `./ads/${slot.id}/${imageFileName}`;
                  adImage.alt = `Реклама ${slot.id}`;
                  
                  // ИЗМЕНЕНИЕ 4: Убрали инлайн-стили, чтобы они не перебивали CSS
                  
                  adLink.appendChild(adImage);
                  container.innerHTML = ''; // Очищаем контейнер перед добавлением
                  container.appendChild(adLink);
              }
          });
      }
      // --- КОНЕЦ НОВОГО КОДА ---

      async function init() {
        loadAds(); // Загружаем рекламу
        window.addEventListener('resize', loadAds); // И пере-загружаем при изменении размера окна

        const rawData = await loadDataFromLocalFile();
        if (rawData) {
          currentItems = normalizeData(rawData);
          render(currentItems);
          SEARCH.addEventListener('input', applySearch);
        }
        document.getElementById('last-updated').innerText = new Date().toLocaleString('ru-RU');
      }

      const savedTheme = localStorage.getItem('theme') || 'light';
      document.body.classList.toggle('dark', savedTheme === 'dark');
      THEME_SWITCHER.innerText = savedTheme === 'dark' ? '☀️' : '🌙';

      THEME_SWITCHER.addEventListener('click', () => {
        const isDark = document.body.classList.toggle('dark');
        localStorage.setItem('theme', isDark ? 'dark' : 'light');
        THEME_SWITCHER.innerText = isDark ? '☀️' : '🌙';
      });

      init();
    });
  </script>
</body>
</html>